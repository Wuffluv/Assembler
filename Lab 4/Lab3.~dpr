Program lab4 ;

{$APPTYPE CONSOLE}

var
  n, i: integer;
  a: array[1..100] of integer;
  result: integer;

begin

  writeln('n: ');
  readln(n);


  writeln('Enter ', n, ' integers:');
  for i := 1 to n do
  begin
    write('a', i, ': ');
    readln(a[i]);
  end;


  asm
  @_start: //Метка начала
      mov result, 0
    // Инициализация результата
    mov ebx, 0
    @for_start: // Метка старта цикла

    // Цикл по массиву a
    mov ecx, n        // Регистр ecx для хранения количества элементов массива
    mov esi, 1        // Регистр esiдля индексации массива

      // Загрузка текущего элемента в регистр ebx
      mov ebx, dword ptr [a + esi * 4]

      // Умножение текущего элемента самого на себя
      //imul ebx, ebx

      // Умножение текущего результата на текущий элемент
      imul ebx, result

      // Сохранение результата в переменную
        mov result, ebx

      @end_if:

      // Увеличение счетчика
      inc esi

      cmp ecx, n

      // Проверка на завершение цикла
      jnz @for_start
  end;


  writeln('Result: ', result);

  readln;
end.

